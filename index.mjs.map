{"version":3,"file":"index.mjs","sources":["../lib/now.js","../lib/browser.js","../lib/detect.js","../lib/polyfill.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport bool from './detect.js';\nimport polyfill from './polyfill.js';\n\n\n// MAIN //\n\nvar now;\nif ( bool ) {\n\tnow = Date.now;\n} else {\n\tnow = polyfill;\n}\n\n\n// EXPORTS //\n\nexport default now;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport getGlobal from '@stdlib/utils-global';\nimport isObject from '@stdlib/assert-is-object';\nimport modf from '@stdlib/math-base-special-modf';\nimport round from '@stdlib/math-base-special-round';\nimport now from './now.js';\n\n\n// VARIABLES //\n\nvar Global = getGlobal();\nvar ts;\nvar ns;\n\nif ( isObject( Global.performance ) ) {\n\tns = Global.performance;\n} else {\n\tns = {};\n}\nif ( ns.now ) {\n\tts = ns.now.bind( ns );\n} else if ( ns.mozNow ) {\n\tts = ns.mozNow.bind( ns );\n} else if ( ns.msNow ) {\n\tts = ns.msNow.bind( ns );\n} else if ( ns.oNow ) {\n\tts = ns.oNow.bind( ns );\n} else if ( ns.webkitNow ) {\n\tts = ns.webkitNow.bind( ns );\n} else {\n\tts = now;\n}\n\n\n// MAIN //\n\n/**\n* Returns a high-resolution time.\n*\n* ## Notes\n*\n* -   Output format: `[seconds, nanoseconds]`.\n*\n*\n* @private\n* @returns {NumberArray} high-resolution time\n*\n* @example\n* var t = tic();\n* // returns [<number>,<number>]\n*/\nfunction tic() {\n\tvar parts;\n\tvar t;\n\n\t// Get a millisecond timestamp and convert to seconds:\n\tt = ts() / 1000;\n\n\t// Decompose the timestamp into integer (seconds) and fractional parts:\n\tparts = modf( t );\n\n\t// Convert the fractional part to nanoseconds:\n\tparts[ 1 ] = round( parts[1] * 1.0e9 );\n\n\t// Return the high-resolution time:\n\treturn parts;\n}\n\n\n// EXPORTS //\n\nexport default tic;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isFunction from '@stdlib/assert-is-function';\n\n\n// MAIN //\n\nvar bool = isFunction( Date.now );\n\n\n// EXPORTS //\n\nexport default bool;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns the time in milliseconds since the epoch.\n*\n* @private\n* @returns {number} time\n*\n* @example\n* var ts = now();\n* // returns <number>\n*/\nfunction now() {\n\tvar d = new Date();\n\treturn d.getTime();\n}\n\n\n// EXPORTS //\n\nexport default now;\n"],"names":["ts","ns","now$1","isFunction","Date","now","getTime","Global","getGlobal","tic","parts","t","modf","round","isObject","performance","bind","mozNow","msNow","oNow","webkitNow"],"mappings":";;sbAsCA,ICNIA,EACAC,EDKJC,EEXWC,EAAYC,KAAKC,KFGrBD,KAAKC,IGEZ,WAEC,OADQ,IAAID,MACHE,SACV,EFJIC,EAASC,IAyCb,SAASC,IACR,IAAIC,EACAC,EAYJ,OATAA,EAAIX,IAAO,KAGXU,EAAQE,EAAMD,IAGP,GAAME,EAAkB,IAAXH,EAAM,IAGnBA,CACR,CAnDCT,EADIa,EAAUP,EAAOQ,aAChBR,EAAOQ,YAEP,CAAA,EAGLf,EADIC,EAAGI,IACFJ,EAAGI,IAAIW,KAAMf,GACPA,EAAGgB,OACThB,EAAGgB,OAAOD,KAAMf,GACVA,EAAGiB,MACTjB,EAAGiB,MAAMF,KAAMf,GACTA,EAAGkB,KACTlB,EAAGkB,KAAKH,KAAMf,GACRA,EAAGmB,UACTnB,EAAGmB,UAAUJ,KAAMf,GAEnBI"}